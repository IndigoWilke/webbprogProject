<!-- sidebar.component.html -->

<div class="filter-sidebar">
  <mat-drawer mode="side" opened="true">
    <mat-toolbar color="primary">
      Filter Options
    </mat-toolbar>
    <form (ngSubmit)="applyFilters()">
      <ng-container *ngFor="let category of filterCategories">
        <h3>{{ category.name }}</h3>
        <!-- Opening Hours -->
        <ng-container *ngIf="category.name === 'Opening Hours'">
          <mat-form-field appearance="fill">
            <mat-label>Opening Time</mat-label>
            <input matInput
                   [formControl]="openingTimeControl"
                   name="openingTime"
                   placeholder="Opening Time (hh:mm)"
                   type="text"
            />
            <mat-error *ngIf="openingTimeControl.hasError('required')">Opening time is required</mat-error>
            <mat-error *ngIf="openingTimeControl.hasError('invalidTimeFormat')">Please enter a valid opening time in 'hh:mm' format</mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Closing Time</mat-label>
            <input matInput
                   [formControl]="closingTimeControl"
                   name="closingTime"
                   placeholder="Closing Time (hh:mm)"
                   type="text"
            />
            <mat-error *ngIf="closingTimeControl.hasError('required')">Closing time is required</mat-error>
            <mat-error *ngIf="closingTimeControl.hasError('invalidTimeFormat')">Please enter a valid closing time in 'hh:mm' format</mat-error>
          </mat-form-field>
        </ng-container>      
        <!-- For other categories, generate checkboxes as before -->
        <ng-container *ngIf="category.name !== 'Opening Hours'">
          <mat-checkbox
            *ngFor="let option of category.options"
            [(ngModel)]="option.checked"
            [name]="option.label"
          >
            {{ option.label }}
          </mat-checkbox>
        </ng-container>
      </ng-container>
      <button mat-button color="accent" type="submit">Apply Filters</button>
    </form>
  </mat-drawer>
</div>
